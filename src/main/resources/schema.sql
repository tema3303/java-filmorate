CREATE TABLE IF NOT EXISTS MPA (
                        MPA_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
                        MPA_NAME VARCHAR(10) NOT NULL
);
CREATE TABLE IF NOT EXISTS FILMS (
                         FILM_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
                         NAME VARCHAR(40) NOT NULL,
                         DESCRIPTION VARCHAR(200),
                         RELEASE_DATE DATE,
                         DURATION INTEGER,
                         RATE INTEGER DEFAULT 0,
                         MPA_ID INTEGER REFERENCES MPA (MPA_ID)
);
CREATE TABLE IF NOT EXISTS GENRE(
    GENRE_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NAME VARCHAR(20) NOT NULL
);

CREATE TABLE IF NOT EXISTS FILM_GENRES(
    FILM_GENRE_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    GENRE_ID INTEGER REFERENCES GENRE (GENRE_ID),
    FILM_ID INTEGER REFERENCES FILMS (FILM_ID)
);
CREATE TABLE IF NOT EXISTS USERS (
    USER_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    EMAIL VARCHAR(20) NOT NULL,
    LOGIN VARCHAR(20) NOT NULL,
    NAME VARCHAR(20),
    BIRTHDAY DATE
);
CREATE TABLE IF NOT EXISTS LIKES(
    LIKE_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    FILM_ID INTEGER REFERENCES FILMS (FILM_ID),
    USER_ID INTEGER REFERENCES USERS (USER_ID)
);
CREATE TABLE IF NOT EXISTS FRIEND_STATUS(
  FRIEND_STATUS_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  USER_ID INTEGER REFERENCES USERS (USER_ID),
  FRIEND_ID INTEGER REFERENCES USERS (USER_ID),
  STATUS BOOLEAN DEFAULT FALSE NOT NULL
);